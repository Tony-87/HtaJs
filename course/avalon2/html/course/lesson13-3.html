<!DOCTYPE html>
<html lang="en">
<head>
    <title>ms-validate</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <script src="../../js/avalon.js"></script>
    <script>
        avalon.component('ms-button', {
            template: '<button type="button"><span><slot name="buttonText"></slot></span></button>',
            defaults: {
                buttonText: "button"
            },
            soleSlot: 'buttonText'
        })
        var vm = avalon.define({
            $id: 'widget0',
            config: {
                buttonText: '按钮',
                onInit: function (a) {
                    console.log("onInit!!")
                },
                onReady: function (a) {
                    console.log("onReady!!")
                },
                onViewChange: function () {
                    console.log("onViewChange!!")
                },
                onDispose: function () {
                    console.log("onDispose!!")
                }
            }
        })
        setTimeout(function () {
            vm.config.buttonText = 'change'
            setTimeout(function () {
                document.body.innerHTML = ""
            }, 1000)
        }, 1000)

    </script>

</head>

<body>
<div ms-controller='widget0' >
    <div><wbr ms-widget="[{is:'ms-button'},@config]"/></div>
</div>
</body>
</html>